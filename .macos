#!/usr/bin/env bash

COMPUTER_NAME="Pavel’s MacBook"
LOCAL_HOST_NAME="honey"

osascript -e 'tell application "System Preferences" to quit'
sudo -v

# Sharing: set computer name
sudo scutil --set LocalHostName "$LOCAL_HOST_NAME"
sudo scutil --set ComputerName "$COMPUTER_NAME"

# Dock: set the icon size
defaults write com.apple.dock tilesize -int 40

# Dock: set the position
defaults write com.apple.dock orientation left

# Dock: change minimize/maximize window effect
defaults write com.apple.dock mineffect -string "scale"

# Dock: minimize windows into their application’s icon
defaults write com.apple.dock minimize-to-application -bool true

# Dock: don’t show recent applications
defaults write com.apple.dock show-recents -bool false

# Dashboard: disable
defaults write com.apple.dashboard mcx-disabled -bool true

# Finder: show all filename extensions
defaults write NSGlobalDomain AppleShowAllExtensions -bool true

# Finder: disable the warning when changing a file extension
defaults write com.apple.finder FXEnableExtensionChangeWarning -bool false

# Finder: show path bar
defaults write com.apple.finder ShowPathbar -bool true

# Finder: when performing a search, search the current folder by default
defaults write com.apple.finder FXDefaultSearchScope -string "SCcf"

# Safari: enable the develop menu and the web inspector
defaults write com.apple.Safari IncludeDevelopMenu -bool true

# Safari: don’t send search queries to apple
defaults write com.apple.Safari UniversalSearchEnabled -bool false
defaults write com.apple.Safari SuppressSearchSuggestions -bool true

# Safari: show the full URL in the address bar
defaults write com.apple.Safari ShowFullURLInSmartSearchField -bool true

# Safari: set home page to `about:blank` for faster loading
defaults write com.apple.Safari HomePage -string "about:blank"

# Safari: prevent from opening safe files automatically after downloading
defaults write com.apple.Safari AutoOpenSafeDownloads -bool false

for app in Dock Finder Safari
do
  killall "$app" > /dev/null 2>&1
done
